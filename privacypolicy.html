<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ClaimCare Payment Gateway</title>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #e8eef5 100%);
      color: #1a202c;
      min-height: 100%;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    header {
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 16px 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-placeholder {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, #2B6CB0 0%, #528FF0 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 20px;
    }

    .company-name {
      font-size: 18px;
      font-weight: 600;
      color: #1a202c;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .contact-info {
      display: flex;
      gap: 16px;
      font-size: 14px;
      color: #4a5568;
    }

    .test-mode-pill {
      background: #fef3c7;
      color: #92400e;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    /* Hero Section */
    .hero {
      text-align: center;
      padding: 60px 20px 40px;
    }

    .hero h1 {
      font-size: 42px;
      font-weight: 700;
      color: #1a202c;
      margin: 0 0 16px;
      line-height: 1.2;
    }

    .hero p {
      font-size: 18px;
      color: #4a5568;
      margin: 0 0 32px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-cta {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 32px;
    }

    .btn {
      padding: 14px 32px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      border: none;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .btn-primary {
      background: linear-gradient(135deg, #2B6CB0 0%, #528FF0 100%);
      color: white;
      box-shadow: 0 4px 12px rgba(43, 108, 176, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(43, 108, 176, 0.4);
    }

    .btn-secondary {
      background: white;
      color: #2B6CB0;
      border: 2px solid #2B6CB0;
    }

    .btn-secondary:hover {
      background: #f7fafc;
    }

    .trust-row {
      display: flex;
      gap: 24px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      font-size: 14px;
      color: #4a5568;
    }

    .trust-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .trust-icon {
      width: 20px;
      height: 20px;
      color: #22C55E;
    }

    /* Main Content */
    .main-content {
      padding: 40px 20px 80px;
    }

    .payment-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 32px;
      max-width: 1000px;
      margin: 0 auto;
    }

    @media (min-width: 768px) {
      .payment-grid {
        grid-template-columns: 1.5fr 1fr;
      }
    }

    .card {
      background: white;
      border-radius: 12px;
      padding: 32px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    }

    .card h2 {
      font-size: 24px;
      font-weight: 600;
      margin: 0 0 24px;
      color: #1a202c;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #2d3748;
      margin-bottom: 8px;
    }

    .required::after {
      content: " *";
      color: #e53e3e;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 15px;
      font-family: 'Poppins', sans-serif;
      transition: border-color 0.3s ease;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #2B6CB0;
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    .checkbox-group {
      display: flex;
      align-items: flex-start;
      gap: 8px;
    }

    .checkbox-group input[type="checkbox"] {
      width: auto;
      margin-top: 4px;
    }

    .checkbox-group label {
      margin: 0;
      font-size: 13px;
      color: #4a5568;
    }

    .link {
      color: #2B6CB0;
      text-decoration: underline;
      cursor: pointer;
    }

    .link:hover {
      color: #528FF0;
    }

    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 24px;
    }

    .btn-full {
      width: 100%;
      justify-content: center;
    }

    .microcopy {
      font-size: 12px;
      color: #718096;
      text-align: center;
      margin-top: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    /* Pricing Summary */
    .pricing-summary {
      position: sticky;
      top: 100px;
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      font-size: 15px;
    }

    .summary-row.total {
      border-top: 2px solid #e2e8f0;
      margin-top: 12px;
      padding-top: 16px;
      font-weight: 600;
      font-size: 18px;
      color: #1a202c;
    }

    .summary-label {
      color: #4a5568;
    }

    .summary-value {
      font-weight: 500;
      color: #1a202c;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 12px;
      max-width: 600px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      padding: 32px;
      position: relative;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .modal-header h3 {
      font-size: 24px;
      font-weight: 600;
      margin: 0;
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 28px;
      cursor: pointer;
      color: #718096;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .close-btn:hover {
      color: #1a202c;
    }

    .modal-body {
      color: #4a5568;
      line-height: 1.6;
    }

    .modal-body h4 {
      color: #1a202c;
      margin-top: 20px;
      margin-bottom: 8px;
    }

    /* Success Modal */
    .success-icon {
      width: 64px;
      height: 64px;
      background: #22C55E;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      color: white;
      font-size: 32px;
    }

    .invoice-summary {
      background: #f7fafc;
      border-radius: 8px;
      padding: 20px;
      margin: 24px 0;
    }

    .invoice-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      font-size: 14px;
    }

    .invoice-row.highlight {
      font-weight: 600;
      font-size: 16px;
      color: #1a202c;
      border-top: 2px solid #e2e8f0;
      margin-top: 8px;
      padding-top: 12px;
    }

    /* Footer */
    footer {
      background: #1a202c;
      color: #a0aec0;
      padding: 40px 20px;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 32px;
    }

    @media (min-width: 768px) {
      .footer-content {
        grid-template-columns: 2fr 1fr;
      }
    }

    .footer-section h4 {
      color: white;
      font-size: 16px;
      font-weight: 600;
      margin: 0 0 16px;
    }

    .footer-section p {
      margin: 8px 0;
      font-size: 14px;
      line-height: 1.6;
    }

    .social-links {
      display: flex;
      gap: 16px;
      margin-top: 16px;
    }

    .social-link {
      width: 36px;
      height: 36px;
      background: #2d3748;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #a0aec0;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .social-link:hover {
      background: #2B6CB0;
      color: white;
    }

    .footer-bottom {
      text-align: center;
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1px solid #2d3748;
      font-size: 13px;
    }

    /* Responsive */
    @media (max-width: 767px) {
      .hero h1 {
        font-size: 32px;
      }

      .hero p {
        font-size: 16px;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .contact-info {
        flex-direction: column;
        gap: 8px;
      }

      .pricing-summary {
        position: static;
      }
    }

    /* Toast notification */
    .toast {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: white;
      padding: 16px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.15);
      display: none;
      align-items: center;
      gap: 12px;
      z-index: 1001;
      max-width: 400px;
    }

    .toast.show {
      display: flex;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .toast-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .toast-message {
      font-size: 14px;
      color: #1a202c;
    }
  </style>
  </style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Header -->
  <header>
   <div class="container">
    <div class="header-content">
     <div class="logo-section">
      <div class="logo-placeholder">
       CC
      </div>
      <div class="company-name" id="companyName">
       ClaimCare Solutions Pvt. Ltd.
      </div>
     </div>
     <div class="header-right">
      <div class="contact-info"><span>üìû <span id="phoneNumber">+91 98765 43210</span></span> <span>‚úâÔ∏è <span id="emailAddress">support@claimcare.in</span></span>
      </div>
      <div class="test-mode-pill">
       Test Mode
      </div>
     </div>
    </div>
   </div>
  </header><!-- Hero Section -->
  <section class="hero">
   <div class="container">
    <h1 id="heroHeadline">Secure Payments for ClaimCare</h1>
    <p id="heroSubheadline">Fast, transparent, and secure payments for reimbursements, desk support, rate revisions and advances.</p>
    <div class="hero-cta"><button class="btn btn-primary" onclick="scrollToForm()">Pay Now</button> <button class="btn btn-secondary" onclick="openPricingModal()">View Pricing</button>
    </div>
    <div class="trust-row">
     <div class="trust-item">
      <svg class="trust-icon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
      </svg><span>SSL Secured</span>
     </div>
     <div class="trust-item">
      <svg class="trust-icon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg><span>Razorpay</span>
     </div>
     <div class="trust-item">
      <svg class="trust-icon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg><span>GST Invoice</span>
     </div>
    </div>
   </div>
  </section><!-- Main Content -->
  <main class="main-content">
   <div class="container">
    <div class="payment-grid"><!-- Payment Form -->
     <div class="card">
      <h2>Payment Details</h2>
      <form id="paymentForm" onsubmit="handlePayment(event)">
       <div class="form-row">
        <div class="form-group"><label for="firstName" class="required">First Name</label> <input type="text" id="firstName" required>
        </div>
        <div class="form-group"><label for="lastName" class="required">Last Name</label> <input type="text" id="lastName" required>
        </div>
       </div>
       <div class="form-group"><label for="email">Email Address</label> <input type="email" id="email" placeholder="your.email@example.com">
       </div>
       <div class="form-group"><label for="service" class="required">Select Service</label> <select id="service" required onchange="updatePrice()"> <option value="">Choose a service...</option> <option value="reimbursement" data-price="500">Reimbursement ‚Äî ‚Çπ500</option> <option value="cashless" data-price="450">Cashless Desk Support ‚Äî ‚Çπ450</option> <option value="revision" data-price="700">Rate Revision ‚Äî ‚Çπ700</option> <option value="advance" data-price="800">Advance Reimbursement ‚Äî ‚Çπ800</option> </select>
       </div>
       <div class="form-group"><label for="description">Description</label> <textarea id="description" placeholder="Brief description of your request..."></textarea>
       </div>
       <div class="form-group">
        <div class="checkbox-group"><input type="checkbox" id="terms" required> <label for="terms">I agree to the <span class="link" onclick="openTermsModal()">Terms &amp; Conditions</span></label>
        </div>
       </div>
       <div class="form-actions"><button type="submit" class="btn btn-primary btn-full" id="payButton">Pay ‚Çπ0</button> <!-- External Razorpay payment link - opens in new tab for security --> <a href="https://razorpay.me/@siddharthdineshkhade" target="_blank" rel="noopener noreferrer" class="btn btn-secondary btn-full">Pay via Razorpay Link</a>
       </div>
       <div class="microcopy">
        <svg width="16" height="16" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
        </svg> We use Razorpay for secure checkout. No card details stored.
       </div>
      </form>
     </div><!-- Pricing Summary -->
     <div class="card pricing-summary">
      <h2>Payment Summary</h2>
      <div class="summary-row"><span class="summary-label">Service</span> <span class="summary-value" id="summaryService">Not selected</span>
      </div>
      <div class="summary-row"><span class="summary-label">Amount</span> <span class="summary-value" id="summaryAmount">‚Çπ0</span>
      </div>
      <div class="summary-row"><span class="summary-label">GST (18%)</span> <span class="summary-value" id="summaryGST">‚Çπ0</span>
      </div>
      <div class="summary-row total"><span class="summary-label">Total</span> <span class="summary-value" id="summaryTotal">‚Çπ0</span>
      </div>
     </div>
    </div>
   </div>
  </main><!-- Footer -->
  <footer>
   <div class="container">
    <div class="footer-content">
     <div class="footer-section">
      <h4>ClaimCare Solutions Pvt. Ltd.</h4>
      <p id="companyAddress">123 Business Park, Mumbai, Maharashtra 400001</p>
      <p>GST: <span id="gstNumber">27AABCU9603R1ZM</span></p>
      <p>CIN: U74999MH2020PTC123456</p>
     </div>
     <div class="footer-section">
      <h4>Connect With Us</h4>
      <div class="social-links"><!-- Social media links - replace # with actual URLs when available --> <a href="#" class="social-link" aria-label="LinkedIn">in</a> <a href="#" class="social-link" aria-label="Twitter">ùïè</a> <a href="#" class="social-link" aria-label="Facebook">f</a>
      </div>
     </div>
    </div>
    <div class="footer-bottom">
     <p>¬© 2024 ClaimCare Solutions Pvt. Ltd. All rights reserved.</p>
    </div>
   </div>
  </footer><!-- Terms Modal -->
  <div class="modal" id="termsModal">
   <div class="modal-content">
    <div class="modal-header">
     <h3>Terms &amp; Conditions</h3><button class="close-btn" onclick="closeTermsModal()">√ó</button>
    </div>
    <div class="modal-body">
     <h4>1. Payment Terms</h4>
     <p>All payments are processed securely through Razorpay. By proceeding with payment, you agree to Razorpay's terms of service.</p>
     <h4>2. Service Delivery</h4>
     <p>Services will be processed within 3-5 business days of successful payment confirmation. You will receive email updates at each stage.</p>
     <h4>3. Refund Policy</h4>
     <p>Refunds are available within 7 days of payment if the service has not been initiated. Processing fees may apply.</p>
     <h4>4. Data Privacy</h4>
     <p>Your personal information is protected under our Privacy Policy. We do not store credit card details on our servers.</p>
     <h4>5. GST &amp; Invoicing</h4>
     <p>All prices are inclusive of applicable GST. A tax invoice will be generated and emailed to you upon successful payment.</p>
     <h4>6. Dispute Resolution</h4>
     <p>Any disputes will be resolved under the jurisdiction of Mumbai courts. For support, contact us at support@claimcare.in.</p>
     <h4>7. Modifications</h4>
     <p>We reserve the right to modify these terms at any time. Continued use of our services constitutes acceptance of updated terms.</p>
    </div>
   </div>
  </div><!-- Success Modal -->
  <div class="modal" id="successModal">
   <div class="modal-content">
    <div class="modal-header">
     <h3>Payment Successful!</h3><button class="close-btn" onclick="closeSuccessModal()">√ó</button>
    </div>
    <div class="modal-body" style="text-align: center;">
     <div class="success-icon">
      ‚úì
     </div>
     <p style="font-size: 18px; margin-bottom: 24px;">Your payment has been processed successfully.</p>
     <div class="invoice-summary">
      <div class="invoice-row"><span>Payment ID:</span> <span id="paymentId">PAY_XXXXXXXXXXXX</span>
      </div>
      <div class="invoice-row"><span>Service:</span> <span id="invoiceService">-</span>
      </div>
      <div class="invoice-row"><span>Amount:</span> <span id="invoiceAmount">‚Çπ0</span>
      </div>
      <div class="invoice-row"><span>GST (18%):</span> <span id="invoiceGST">‚Çπ0</span>
      </div>
      <div class="invoice-row highlight"><span>Total Paid:</span> <span id="invoiceTotal">‚Çπ0</span>
      </div>
     </div><button class="btn btn-primary btn-full" onclick="downloadInvoice()">
      <svg width="20" height="20" fill="none" stroke="currentColor" viewbox="0 0 24 24" style="display: inline-block; vertical-align: middle; margin-right: 8px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg> Download Invoice (PDF) </button>
     <p style="font-size: 13px; color: #718096; margin-top: 16px;">A confirmation email has been sent to your registered email address.</p>
    </div>
   </div>
  </div><!-- Pricing Modal -->
  <div class="modal" id="pricingModal">
   <div class="modal-content">
    <div class="modal-header">
     <h3>Service Pricing</h3><button class="close-btn" onclick="closePricingModal()">√ó</button>
    </div>
    <div class="modal-body">
     <div style="margin-bottom: 20px;">
      <h4>Reimbursement ‚Äî ‚Çπ500</h4>
      <p>Standard reimbursement processing for approved claims. Includes documentation review and payment processing.</p>
     </div>
     <div style="margin-bottom: 20px;">
      <h4>Cashless Desk Support ‚Äî ‚Çπ450</h4>
      <p>Dedicated support for cashless claim processing. Includes hospital coordination and real-time assistance.</p>
     </div>
     <div style="margin-bottom: 20px;">
      <h4>Rate Revision ‚Äî ‚Çπ700</h4>
      <p>Professional review and revision of claim rates. Includes detailed analysis and documentation.</p>
     </div>
     <div style="margin-bottom: 20px;">
      <h4>Advance Reimbursement ‚Äî ‚Çπ800</h4>
      <p>Expedited processing for urgent reimbursement requests. Priority handling with 24-hour turnaround.</p>
     </div>
     <p style="font-size: 13px; color: #718096; margin-top: 24px;">All prices include 18% GST. Additional charges may apply for complex cases.</p>
    </div>
   </div>
  </div><!-- Toast Notification -->
  <div class="toast" id="toast">
   <svg class="toast-icon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
   </svg>
   <div class="toast-message" id="toastMessage"></div>
  </div>
  <script>
    const defaultConfig = {
      company_name: "ClaimCare Solutions Pvt. Ltd.",
      hero_headline: "Secure Payments for ClaimCare",
      hero_subheadline: "Fast, transparent, and secure payments for reimbursements, desk support, rate revisions and advances.",
      phone_number: "+91 98765 43210",
      email_address: "support@claimcare.in",
      company_address: "123 Business Park, Mumbai, Maharashtra 400001",
      gst_number: "27AABCU9603R1ZM",
      primary_color: "#2B6CB0",
      accent_color: "#22C55E",
      background_color: "#f5f7fa"
    };

    let currentPrice = 0;
    let currentService = "";

    function updatePrice() {
      const serviceSelect = document.getElementById('service');
      const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
      
      if (selectedOption.value) {
        currentPrice = parseInt(selectedOption.dataset.price);
        currentService = selectedOption.text.split(' ‚Äî ')[0];
        
        const gst = Math.round(currentPrice * 0.18);
        const total = currentPrice + gst;
        
        document.getElementById('payButton').textContent = `Pay ‚Çπ${total}`;
        document.getElementById('summaryService').textContent = currentService;
        document.getElementById('summaryAmount').textContent = `‚Çπ${currentPrice}`;
        document.getElementById('summaryGST').textContent = `‚Çπ${gst}`;
        document.getElementById('summaryTotal').textContent = `‚Çπ${total}`;
      } else {
        currentPrice = 0;
        currentService = "";
        document.getElementById('payButton').textContent = 'Pay ‚Çπ0';
        document.getElementById('summaryService').textContent = 'Not selected';
        document.getElementById('summaryAmount').textContent = '‚Çπ0';
        document.getElementById('summaryGST').textContent = '‚Çπ0';
        document.getElementById('summaryTotal').textContent = '‚Çπ0';
      }
    }

    function handlePayment(event) {
      event.preventDefault();
      
      if (currentPrice === 0) {
        showToast('Please select a service');
        return;
      }

      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      
      const gst = Math.round(currentPrice * 0.18);
      const total = currentPrice + gst;
      
      const paymentId = 'PAY_' + Math.random().toString(36).substr(2, 12).toUpperCase();
      
      document.getElementById('paymentId').textContent = paymentId;
      document.getElementById('invoiceService').textContent = currentService;
      document.getElementById('invoiceAmount').textContent = `‚Çπ${currentPrice}`;
      document.getElementById('invoiceGST').textContent = `‚Çπ${gst}`;
      document.getElementById('invoiceTotal').textContent = `‚Çπ${total}`;
      
      openSuccessModal();
    }

    function scrollToForm() {
      document.getElementById('paymentForm').scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function openTermsModal() {
      document.getElementById('termsModal').classList.add('active');
    }

    function closeTermsModal() {
      document.getElementById('termsModal').classList.remove('active');
    }

    function openSuccessModal() {
      document.getElementById('successModal').classList.add('active');
    }

    function closeSuccessModal() {
      document.getElementById('successModal').classList.remove('active');
      document.getElementById('paymentForm').reset();
      updatePrice();
    }

    function openPricingModal() {
      document.getElementById('pricingModal').classList.add('active');
    }

    function closePricingModal() {
      document.getElementById('pricingModal').classList.remove('active');
    }

    // Function to generate and download PDF invoice with all essential details
    function downloadInvoice() {
      // Get form data for invoice generation
      const firstName = document.getElementById('firstName').value || 'Customer';
      const lastName = document.getElementById('lastName').value || '';
      const email = document.getElementById('email').value || 'Not provided';
      const description = document.getElementById('description').value || 'No description';
      const paymentId = document.getElementById('paymentId').textContent;
      
      // Calculate pricing details
      const gst = Math.round(currentPrice * 0.18);
      const total = currentPrice + gst;
      
      // Get current date for invoice
      const currentDate = new Date();
      const invoiceDate = currentDate.toLocaleDateString('en-IN');
      const invoiceNumber = 'INV-' + currentDate.getFullYear() + '-' + Math.random().toString(36).substr(2, 6).toUpperCase();
      
      // Get company details from config
      const companyName = document.getElementById('companyName').textContent;
      const companyAddress = document.getElementById('companyAddress').textContent;
      const gstNumber = document.getElementById('gstNumber').textContent;
      const phoneNumber = document.getElementById('phoneNumber').textContent;
      const emailAddress = document.getElementById('emailAddress').textContent;
      
      // Create invoice HTML content with professional formatting
      const invoiceHTML = '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Invoice - ' + invoiceNumber + '</title><style>body{font-family:Arial,sans-serif;margin:0;padding:20px;color:#333;line-height:1.6;background:white}.invoice-container{max-width:800px;margin:0 auto;background:white;border:1px solid #ddd;border-radius:8px;overflow:hidden}.invoice-header{background:linear-gradient(135deg,#2B6CB0 0%,#528FF0 100%);color:white;padding:30px;text-align:center}.company-logo{width:60px;height:60px;background:rgba(255,255,255,0.2);border-radius:12px;display:inline-flex;align-items:center;justify-content:center;font-size:24px;font-weight:bold;margin-bottom:15px}.company-name{font-size:28px;font-weight:bold;margin:0}.invoice-title{font-size:18px;margin:10px 0 0;opacity:0.9}.invoice-body{padding:30px}.invoice-details{display:grid;grid-template-columns:1fr 1fr;gap:30px;margin-bottom:30px}.detail-section h3{color:#2B6CB0;margin:0 0 15px;font-size:16px;border-bottom:2px solid #e2e8f0;padding-bottom:8px}.detail-section p{margin:5px 0;font-size:14px}.service-table{width:100%;border-collapse:collapse;margin:20px 0;border:1px solid #e2e8f0}.service-table th,.service-table td{padding:15px;text-align:left;border-bottom:1px solid #e2e8f0}.service-table th{background:#f7fafc;font-weight:600;color:#2d3748}.service-table .amount{text-align:right;font-weight:500}.total-row{background:#f7fafc;font-weight:bold;color:#1a202c}.payment-info{background:#f0f9ff;padding:20px;border-radius:8px;margin:20px 0;border-left:4px solid #2B6CB0}.payment-info h4{margin:0 0 10px;color:#2B6CB0}.footer-note{margin-top:30px;padding-top:20px;border-top:1px solid #e2e8f0;font-size:12px;color:#718096;text-align:center}.status-badge{display:inline-block;background:#22C55E;color:white;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:bold;margin-left:10px}@media print{body{margin:0;padding:0}.invoice-container{border:none;border-radius:0}}</style></head><body><div class="invoice-container"><div class="invoice-header"><div class="company-logo">CC</div><h1 class="company-name">' + companyName + '</h1><p class="invoice-title">TAX INVOICE</p></div><div class="invoice-body"><div class="invoice-details"><div class="detail-section"><h3>Invoice Details</h3><p><strong>Invoice Number:</strong> ' + invoiceNumber + '</p><p><strong>Invoice Date:</strong> ' + invoiceDate + '</p><p><strong>Payment ID:</strong> ' + paymentId + '</p><p><strong>Status:</strong> <span class="status-badge">PAID</span></p></div><div class="detail-section"><h3>Company Details</h3><p><strong>' + companyName + '</strong></p><p>' + companyAddress + '</p><p><strong>GST:</strong> ' + gstNumber + '</p><p><strong>Phone:</strong> ' + phoneNumber + '</p><p><strong>Email:</strong> ' + emailAddress + '</p></div></div><div class="detail-section"><h3>Bill To</h3><p><strong>Name:</strong> ' + firstName + ' ' + lastName + '</p><p><strong>Email:</strong> ' + email + '</p><p><strong>Service Description:</strong> ' + description + '</p></div><table class="service-table"><thead><tr><th>Service Description</th><th>Quantity</th><th class="amount">Rate</th><th class="amount">Amount</th></tr></thead><tbody><tr><td>' + currentService + '</td><td>1</td><td class="amount">‚Çπ' + currentPrice + '</td><td class="amount">‚Çπ' + currentPrice + '</td></tr><tr><td colspan="3"><strong>Subtotal</strong></td><td class="amount"><strong>‚Çπ' + currentPrice + '</strong></td></tr><tr><td colspan="3">GST (18%)</td><td class="amount">‚Çπ' + gst + '</td></tr><tr class="total-row"><td colspan="3"><strong>Total Amount</strong></td><td class="amount"><strong>‚Çπ' + total + '</strong></td></tr></tbody></table><div class="payment-info"><h4>Payment Information</h4><p><strong>Payment Method:</strong> Online Payment via Razorpay</p><p><strong>Transaction ID:</strong> ' + paymentId + '</p><p><strong>Payment Date:</strong> ' + invoiceDate + '</p><p><strong>Amount Paid:</strong> ‚Çπ' + total + '</p></div><div class="footer-note"><p><strong>Terms & Conditions:</strong></p><p>This is a computer-generated invoice and does not require a physical signature.</p><p>For any queries regarding this invoice, please contact us at ' + emailAddress + ' or ' + phoneNumber + '</p><p>Thank you for choosing ' + companyName + ' for your service needs.</p></div></div></div></body></html>';
      
      // Create a new window for the invoice and trigger print/download
      const printWindow = window.open('', '_blank');
      if (printWindow) {
        printWindow.document.write(invoiceHTML);
        printWindow.document.close();
        
        // Wait for content to load then trigger print dialog
        printWindow.onload = function() {
          setTimeout(function() {
            printWindow.print();
            // Close the window after printing (user can cancel if needed)
            printWindow.onafterprint = function() {
              printWindow.close();
            };
          }, 500);
        };
      } else {
        showToast('Please allow popups to download the invoice');
      }
      
      showToast('Invoice generated successfully! Print dialog opened.');
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toastMessage');
      toastMessage.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Initialize modal click handlers
    var modals = document.querySelectorAll('.modal');
    for (var m = 0; m < modals.length; m++) {
      modals[m].addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
        }
      });
    }

    function onConfigChange(config) {
      document.getElementById('companyName').textContent = config.company_name || defaultConfig.company_name;
      document.getElementById('heroHeadline').textContent = config.hero_headline || defaultConfig.hero_headline;
      document.getElementById('heroSubheadline').textContent = config.hero_subheadline || defaultConfig.hero_subheadline;
      document.getElementById('phoneNumber').textContent = config.phone_number || defaultConfig.phone_number;
      document.getElementById('emailAddress').textContent = config.email_address || defaultConfig.email_address;
      document.getElementById('companyAddress').textContent = config.company_address || defaultConfig.company_address;
      document.getElementById('gstNumber').textContent = config.gst_number || defaultConfig.gst_number;

      var primaryColor = config.primary_color || defaultConfig.primary_color;
      var accentColor = config.accent_color || defaultConfig.accent_color;
      var backgroundColor = config.background_color || defaultConfig.background_color;

      document.body.style.background = 'linear-gradient(135deg, ' + backgroundColor + ' 0%, #e8eef5 100%)';
      
      var primaryButtons = document.querySelectorAll('.btn-primary');
      for (var i = 0; i < primaryButtons.length; i++) {
        primaryButtons[i].style.background = 'linear-gradient(135deg, ' + primaryColor + ' 0%, #528FF0 100%)';
      }

      var secondaryButtons = document.querySelectorAll('.btn-secondary');
      for (var j = 0; j < secondaryButtons.length; j++) {
        secondaryButtons[j].style.color = primaryColor;
        secondaryButtons[j].style.borderColor = primaryColor;
      }

      var trustIcons = document.querySelectorAll('.trust-icon');
      for (var k = 0; k < trustIcons.length; k++) {
        trustIcons[k].style.color = accentColor;
      }

      var links = document.querySelectorAll('.link');
      for (var l = 0; l < links.length; l++) {
        links[l].style.color = primaryColor;
      }
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: function(config) {
          return {
            recolorables: [
              {
                get: function() { return config.background_color || defaultConfig.background_color; },
                set: function(value) {
                  config.background_color = value;
                  window.elementSdk.setConfig({ background_color: value });
                }
              },
              {
                get: function() { return config.primary_color || defaultConfig.primary_color; },
                set: function(value) {
                  config.primary_color = value;
                  window.elementSdk.setConfig({ primary_color: value });
                }
              },
              {
                get: function() { return config.accent_color || defaultConfig.accent_color; },
                set: function(value) {
                  config.accent_color = value;
                  window.elementSdk.setConfig({ accent_color: value });
                }
              }
            ],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          };
        },
        mapToEditPanelValues: function(config) {
          return new Map([
            ["company_name", config.company_name || defaultConfig.company_name],
            ["hero_headline", config.hero_headline || defaultConfig.hero_headline],
            ["hero_subheadline", config.hero_subheadline || defaultConfig.hero_subheadline],
            ["phone_number", config.phone_number || defaultConfig.phone_number],
            ["email_address", config.email_address || defaultConfig.email_address],
            ["company_address", config.company_address || defaultConfig.company_address],
            ["gst_number", config.gst_number || defaultConfig.gst_number]
          ]);
        }
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99943c53f2d36ed1',t:'MTc2MjI2MDYxMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>